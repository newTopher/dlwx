(function(e,t){var n='<% for (var i=0, len=left.length; i<len; i++) { %><a href="<%=left[i].url%>" class="ui-navigator-fix ui-navigator-fixleft"><%=left[i].text%></a><% } %><ul class="ui-navigator-list"><% for (var i=0, len=mid.length; i<len; i++) { %><li><a href="<%=mid[i].url%>"><%=mid[i].text%></a></li><% } %></ul><% for (var i=0, len=right.length; i<len; i++) { %><a href="<%=right[i].url%>" class="ui-navigator-fix ui-navigator-fixright"><%=right[i].text%></a><% } %>';e.ui.define("navigator",{_data:{container:"",content:[],beforetabselect:null,tabselect:null},_create:function(){var t=this,r=t._data,i=t.root(),s=e(r.container||document.body).get(0),o={left:[],mid:[],right:[]},u;e.each(r.content,function(){o[this.pos?this.pos:"mid"].push(this)}),u=e.parseTpl(n,o),i?(i.append(u),(!i.parent().length||s!==document.body)&&i.appendTo(s)):t.root(e("<div></div>").append(u)).appendTo(s)},_setup:function(e){var t=this,n=t._data,r=n.defTab,i=t.root();e||(i.children("a").addClass("ui-navigator-fix"),i.children("ul").addClass("ui-navigator-list"))},_init:function(){var t=this,n=t._data,r=t.root(),i=n.content,s=r.find("a");s.each(function(t){this.index=t,i.length&&i[t].attr&&e(this).attr(i[t].attr)}),n._$tabList=s,n._lastIndex=-1,r.addClass("ui-navigator").on("click",e.proxy(t._switchTabHandler,t)),n.defTab&&t.switchTo(n.defTab,!0)},_switchTabHandler:function(t){var n=this,r=t.target;return e(r).closest("a").get(0)&&n.switchTo(r.index,!1,t),n},switchTo:function(t,n,r){var i=this,s=i._data,o=s._lastIndex,u=s._$tabList,a=e.Event("beforetabselect");return i.trigger(a,[u[t]]),a.defaultPrevented?(r&&r.preventDefault(),i):o==t?(r&&r.preventDefault(),i):(o>=0&&u.eq(o).removeClass("cur"),u.eq(t).addClass("cur"),s._lastIndex=t,i.trigger("tabselect",[u.get(t),t]))},getCurTab:function(){var e=this,t=e._data,n=t._lastIndex;return{index:n,info:t._$tabList[n]}}})})(Zepto);